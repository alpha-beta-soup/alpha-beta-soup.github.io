<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Spatial Paralysis]]></title><description><![CDATA[Spatial Paralysis]]></description><link>https://spatialparalysis.xyz/</link><generator>RSS for Node</generator><lastBuildDate>Sun, 09 Dec 2018 10:45:37 GMT</lastBuildDate><item><title><![CDATA[Gatsby Blog]]></title><description><![CDATA[I’ve just obtained the  spatialparalysis.xyz  domain. I’m going to move my blog here from my old blog/portfolio website (nearimprov.com). I…]]></description><link>https://spatialparalysis.xyz//gatsby-blog/</link><guid isPermaLink="false">https://spatialparalysis.xyz//gatsby-blog/</guid><pubDate>Sat, 08 Dec 2018 21:39:00 GMT</pubDate><content:encoded>&lt;p&gt;I’ve just obtained the &lt;a href=&quot;https://spatialparalysis.xyz&quot;&gt;spatialparalysis.xyz&lt;/a&gt; domain. I’m going to move my blog here from my old blog/portfolio website (nearimprov.com). I wanted to try out Gatsby JS, so that I could build some little React components and include them in various places. I’ve used React a lot over the last two years, and since I’ve accepted a new job with much less web development, I might have the desire to make some components for fun rather than for profit.&lt;/p&gt;
&lt;p&gt;I haven’t written anything this year, but I hope to get back into the swing of things next year when I’m more in my element.&lt;/p&gt;
&lt;h3&gt;Why “Spatial Paralysis”?&lt;/h3&gt;
&lt;p&gt;Well, I really just wanted:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;A domain that is better than “nearimprov.com”.&lt;/strong&gt; This was easy, since the old domain communicated exactly nothing. I think I picked it with a random generator of word pairs until I arrived at a pair of words that sounded like more than nothing, but less than anything. I’m not going to renew that domain.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;A domain that communicates “spatial”.&lt;/strong&gt; My Masters degree is in geographic information systems. I will talk about it a lot. I will use my knowledge of the area to feed my family. Although I have general reservations about the field, for better or for worse my hat is in the ring. Spatial systems are my speciality, and—momentarily putting aside all forms of imposter syndrome—I’m an expert in the field.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;A silly-therefore-memorable name.&lt;/strong&gt; Eventually I settled on a rather crude rhyming pun on “facial paralysis”. I was thinking about other blogs that follow a similar kind of naming strategy, such as the &lt;a href=&quot;https://www.saltycrane.com/about/&quot;&gt;SaltyCrane Blog&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;What’s left to do?&lt;/h3&gt;
&lt;p&gt;I need to migrate all my old content to this blog, which will be a little bit manual because I didn’t stick entirely to simple Markdown content.&lt;/p&gt;
&lt;p&gt;I also want to implement tags. (Note: &lt;a href=&quot;/tags&quot;&gt;done&lt;/a&gt;!)&lt;/p&gt;
&lt;p&gt;I need to get the Disqus comments working again, hopefully without losing comments. I’ve been through this once before, and it was a bit of a pain.&lt;/p&gt;
&lt;p&gt;I’d also like to be able to post privately, perhaps behind a password, or even a full authentication system with Auth0, so I could write updates for IRL friends and family using their social logins, without sharing things with the wider world. This would be doubly nice since I’ve stopped using social media.&lt;/p&gt;
&lt;p&gt;I still haven’t worked out timezones in my post metadata. We have a rule of thumb at work: when implmenting a feature that involves time, the complexity of the feature is +2 effort points harder than you think. Every time.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[NZ Traffic Dashboard]]></title><description><![CDATA[This is an old post, that I’m using to iron out any issues I have importing old content. Looking back at my ambitions for 2017 in early…]]></description><link>https://spatialparalysis.xyz//traffic-dashboard/</link><guid isPermaLink="false">https://spatialparalysis.xyz//traffic-dashboard/</guid><pubDate>Sun, 31 Dec 2017 14:25:00 GMT</pubDate><content:encoded>&lt;p&gt;This is an old post, that I’m using to iron out any issues I have importing old content.&lt;/p&gt;
&lt;p&gt;Looking back at my ambitions for 2017 in early December, I’ve done OK. Getting married was obviously a huge personal milestone for me. There was one outstanding item that I’d intended to do early in the year that instead I decided to devote December to: an interactive traffic dashboard for New Zealand. In my mind’s eye this would be something like a traffic control centre, &lt;a href=&quot;https://www.stuff.co.nz/national/99897853/curious-city-the-team-that-keep-new-zealands-traffic-moving&quot;&gt;like the one in Wellington&lt;/a&gt;, which manages about two thirds of the nation’s roads.&lt;/p&gt;
&lt;p&gt;I like to pick at least one new piece of technology when I work on a personal project of this nature. This time it was &lt;a href=&quot;https://electronjs.org/&quot;&gt;Electron&lt;/a&gt;: a way to make cross platform desktop apps using familiar tools for web development. I ended up using &lt;a href=&quot;https://electronforge.io/&quot;&gt;Electron Forge&lt;/a&gt; to make the process even easier, because I’d rather spend time on the actual project than on build configuration.&lt;/p&gt;
&lt;p&gt;The goal for this project was quite a low bar initially: a map that could show the available traffic cameras exposed by the &lt;a href=&quot;https://www.nzta.govt.nz/traffic-and-travel-information/infoconnect-section-page/about-the-apis/traffic-cameras/&quot;&gt;NZTA traffic camera API&lt;/a&gt;. When zooming and panning that map, I wanted the cameras that were displayed in the application to filter according to the &lt;a href=&quot;https://en.wikipedia.org/wiki/Minimum_bounding_box&quot;&gt;minimum bounding box&lt;/a&gt; defined by the user’s current map extent. I wanted this simply because when browsing the NZTA’s website for traffic cameras, I found it frustrating to have to click through menus (text) to access spatial information. To build such an application that could respond the way I wanted, I decided to use &lt;a href=&quot;https://reactjs.org/&quot;&gt;React&lt;/a&gt;, and in particular Google’s Material UI and &lt;a href=&quot;https://github.com/alex3165/react-mapbox-gl&quot;&gt;this React binding of Mapbox GL JS&lt;/a&gt; that I’ve been using for most of this year at work.&lt;/p&gt;
&lt;p&gt;I found that my decision to use Electron (and therefore a local desktop application) eventually led to some other decisions that I hadn’t originally intended: images from cameras could be cached locally on disk, so I store them in a sensible structure and then I can list the contents of each camera’s cache, sort by &lt;a href=&quot;https://www.unixtutorial.org/2008/04/atime-ctime-mtime-in-unix-filesystems/&quot;&gt;mtime&lt;/a&gt;, and create a looping animation for each camera. Anticipating that this would not always be a desktop application, it’s just a configuration change away from using an S3 bucket to cache images and to use that to drive the animation (e.g. using &lt;code class=&quot;language-text&quot;&gt;listObjectsV2&lt;/code&gt; in the AWS JavaScript SDK to order images by modification time).&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;The NZTA traffic camera API only gives you instantaneous results. So I&amp;#39;ma address that: &lt;a href=&quot;https://t.co/4B0aoe3Lby&quot;&gt;pic.twitter.com/4B0aoe3Lby&lt;/a&gt;&lt;/p&gt;&amp;mdash; ∆ Richard Law (@abetasoup) &lt;a href=&quot;https://twitter.com/abetasoup/status/936165994837327872?ref_src=twsrc%5Etfw&quot;&gt;November 30, 2017&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;h2&gt;The NZTA APIs&lt;/h2&gt;
&lt;p&gt;In addition to the NZTA traffic camera API, I also used their Variable Message Signs API, the OpenWeatherMap API, the Mapbox vector tile API (with their traffic tiles), and trivial parts of the AWS JS SDK. There’s a handful of pain points about the NZTA APIs that would be nice to see addressed in 2018.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;You can’t manage your own API keys.&lt;/strong&gt; You have to send an email to a human to request access, and give a reason for wanting access (although my reason was literally just “Curiosity”). Every request must also include a username and password in the request headers. However your username and password are determined &lt;em&gt;for&lt;/em&gt; you, and &lt;em&gt;you cannot change them yourself&lt;/em&gt;. This all smells a little bit of an immature API and API culture. As the terms of use include a requirement that you keep this information secure, I’d argue that if someone else has control of my password, then I already have no control over the security of it.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;From doing a bit of digging into how our traffic control centres operate in New Zealand, I realised that &lt;strong&gt;the API only exposes a small fraction of the cameras that are on our roads&lt;/strong&gt;. On Twitter &lt;a href=&quot;https://twitter.com/NZTAWgtn/status/943889798405771264&quot;&gt;the NZTA posted a short video of SH2&lt;/a&gt; in Wellington. This camera is video, as opposed to 30/60/240 second stills that the API exposes. It’s also in a particularly useful position. It was argued that this is done to protect privacy (e.g. in the case of a serious accident), but I’m not sure I buy this reasoning. Cameras can already be marked “unavailable” and no images retrieved for as long as that status remains. I’d hope that this feature gets used appropriately. What worries me is whether the NZTA actually has multiple camera systems operating with different APIs. I’m a firm believer in &lt;a href=&quot;https://en.wikipedia.org/wiki/Eating_your_own_dog_food&quot;&gt;eating your own dog food&lt;/a&gt;, so I &lt;strong&gt;hope&lt;/strong&gt; that this API doesn’t just exist for external consumption, but rather is used internally.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;The cameras in Hamilton are almost always “under maintenance”.&lt;/strong&gt; This I don’t really understand, unless there’s some network connectivity issue, because it only seems to affect Hamilton. A few of the cameras in Hamilton were reliable, the rest were almost always off.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;The API responses could be a bit more useful.&lt;/strong&gt; For instance the direction that a camera is facing would be a very useful attribute to have. Almost all of the cameras are described as being, for example, ”&lt;em&gt;Northbound&lt;/em&gt; on State Highway 1 at Pokeno”. However the cameras are not all fixed, and indeed I watched a few being rotated and zoomed, in 30 second snapshots, as the traffic controllers monitored holiday traffic north of Wellington. They can be panned 360°, tilted, and zoomed. However the only physical camera attribute that is exposed is the location. I parsed the descriptions looking for an indication of direction, and then used that to rotate symbols in the map—but it just made it more confusing (an upside-down camera icon?). The camera facing direction would be great given the ability to tilt and rotate in Mapbox GL.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;The Variable Message Signs API doesn’t use standard characters for newlines and tabs&lt;/strong&gt;, which is a minor annoyance, but irritating nonetheless.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Wrapping up&lt;/h2&gt;
&lt;p&gt;All in all, this was a fun little distraction for the past month. I think it was a good idea to “time box” myself to avoid some bad habits, but also because it means I can now move on to something else for the month of January without feeling guilty. I don’t consider the project “finished”, although nothing ever really is, so I will probably revisit it later in the year. The code is on Github &lt;a href=&quot;https://github.com/alpha-beta-soup/traffic-dash&quot;&gt;here&lt;/a&gt; and there is also a loose Kanban-stype project board for it &lt;a href=&quot;https://github.com/alpha-beta-soup/traffic-dash/projects/1&quot;&gt;here&lt;/a&gt; where I’ve recorded the ideas I have for it.&lt;/p&gt;
&lt;h2&gt;Demo&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&quot;blog-figure&quot;&gt;&lt;img src=&quot;/Peek%202017-12-31%2015-35-6d1559632146b56c21c079c98b40c88a.gif&quot; title=&quot;A brief snapshot of &amp;#x22;Traffic Dash&amp;#x22; in action.&quot; class=&quot;blog-img&quot;&gt;&lt;figcaption class=&quot;blog-figcaption&quot;&gt;A brief snapshot of “Traffic Dash” in action.&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;</content:encoded></item></channel></rss>