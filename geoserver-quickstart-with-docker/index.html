<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>GeoServer Quickstart with Docker</title>
  <meta name="description" content="">


  <link rel="stylesheet" href="/css/tufte.css">
  <link rel="shortcut icon" type="image/png" href="/favicon.png" >

  <!-- Google Fonts loaded here depending on setting in _data/options.yml true loads font, blank does not-->
  
    <link href='//fonts.googleapis.com/css?family=Lato:400,400italic' rel='stylesheet' type='text/css'>
  
  <!-- Load up MathJax script if needed ... specify in /_data/options.yml file-->
  
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  

  <link rel="canonical" href="http://www.nearimprov.com/geoserver-quickstart-with-docker/">
  <link rel="alternate" type="application/rss+xml" title="nearimprov" href="http://www.nearimprov.com/feed.xml" />
</head>

  <body>
    <!--- Header and nav template site-wide -->
<header>
    <nav class="group">
	<a href="/"><img class="badge" src="/assets/img/new_badge.png" alt="CH"></a>
	
		
		    
		      <a href="/feed.xml"></a>
		    
	    
  	
		
		    
		      <a href="/">blog</a>
		    
	    
  	
		
		    
		      <a href="/about/">About</a>
		    
	    
  	
		
		    
		      <a href="/projects/">Projects</a>
		    
	    
  	
		
  	
	</nav>
</header>

    <article class="group">
      <h1>GeoServer Quickstart with Docker</h1>
<p class="subtitle">November 1, 2015</p>


<center>
<figure class="fullwidth"><img src="/./assets/docker.png" /><figcaption></figcaption></figure>

<figure class="fullwidth"><img src="/./assets/geoserver.png" /><figcaption></figcaption></figure>
</center>

<p>I’ve been exploring <a href="geoserver.org/">GeoServer</a> recently, while also doing the same with <a href="https://www.docker.com/">Docker</a>. I figured I’d share a simple Dockerfile I wrote for getting started with GeoServer (Master) and some extensions, using Docker. I was pleasntly surprised how easy this is to do, after reading a few horrow stories online about getting off the ground with GeoServer. Obviously there’s a lot of additional configuration required before deploying GeoServer, but Docker does at least make it very easy to try something out by ensuring your on the same page as somebody else.</p>

<figure class="highlight"><pre><code class="language-dockerfile" data-lang="dockerfile"><span class="c"># Dockerfile</span>
<span class="k">FROM</span><span class="s"> debian:wheezy</span>

<span class="c"># Update the sources list</span>
<span class="k">RUN </span>apt-get update
<span class="k">RUN </span>apt-get upgrade <span class="nt">-y</span>

<span class="c"># Install basic applications</span>
<span class="k">RUN </span>apt-get install <span class="nt">-y</span> build-essential wget unzip

<span class="c"># Get the JRE/JDK installation</span>
<span class="k">RUN </span>apt-get install <span class="nt">-y</span> default-jre default-jdk
<span class="k">RUN </span>apt-get install <span class="nt">-y</span> openjdk-7-jre openjdk-7-jdk
<span class="k">ENV</span><span class="s"> JAVA_HOME=/usr/lib/jvm/java-1.7.0-openjdk-amd64</span>

<span class="c"># Get GeoServer</span>
<span class="k">ENV</span><span class="s"> GEOSERVER_HOME=/usr/share/geoserver/</span>
<span class="k">RUN </span>mkdir <span class="nv">$GEOSERVER_HOME</span>
<span class="k">RUN </span>wget http://ares.boundlessgeo.com/geoserver/master/geoserver-master-latest-bin.zip
<span class="k">RUN </span>cp geoserver-master-latest-bin.zip <span class="nv">$GEOSERVER_HOME</span>
<span class="k">RUN </span>unzip <span class="nv">$GEOSERVER_HOME</span>/geoserver-master-latest-bin.zip <span class="nt">-d</span> <span class="nv">$GEOSERVER_HOME</span>
<span class="k">RUN </span>rm <span class="nv">$GEOSERVER_HOME</span>/geoserver-master-latest-bin.zip
<span class="k">ENV</span><span class="s"> GEOSERVER_VER=2.9</span>

<span class="c"># A plugin</span>
<span class="k">ENV</span><span class="s"> A_PLUGIN=geoserver-$GEOSERVER_VER-SNAPSHOT-netcdf-plugin</span>
<span class="k">RUN </span>wget http://ares.boundlessgeo.com/geoserver/master/ext-latest/<span class="nv">$A_PLUGIN</span>.zip
<span class="k">RUN </span>cp <span class="nv">$A_PLUGIN</span>.zip <span class="nv">$GEOSERVER_HOME</span>
<span class="k">RUN </span><span class="nb">ls</span> <span class="nv">$GEOSERVER_HOME</span>
<span class="k">RUN </span><span class="nb">ls</span> <span class="nv">$GEOSERVER_HOME</span>/geoserver-<span class="nv">$GEOSERVER_VER</span><span class="nt">-SNAPSHOT</span>/
<span class="k">RUN </span>unzip <span class="nv">$GEOSERVER_HOME</span>/<span class="nv">$A_PLUGIN</span>.zip <span class="se">\
</span><span class="nt">-d</span> <span class="nv">$GEOSERVER_HOME</span>/geoserver-<span class="nv">$GEOSERVER_VER</span><span class="nt">-SNAPSHOT</span>/webapps/geoserver/WEB-INF/lib/
<span class="k">RUN </span>rm <span class="nv">$GEOSERVER_HOME</span>/<span class="nv">$A_PLUGIN</span>.zip

<span class="k">ENV</span><span class="s"> GEOSERVER_HOME=$GEOSERVER_HOME/geoserver-$GEOSERVER_VER-SNAPSHOT/</span>
<span class="k">WORKDIR</span><span class="s"> $GEOSERVER_HOME/bin</span></code></pre></figure>

<p>Then to build and run the Docker container:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">docker build <span class="nt">-t</span> user/geoserver-master:test <span class="nb">.</span>
docker run <span class="nt">-it</span> <span class="nt">--net</span><span class="o">=</span><span class="s2">"host"</span> user/geoserver-master:test
./startup.sh</code></pre></figure>

<p>Now you have GeoServer running, so head to <code class="highlighter-rouge">localhost:8080/geoserver</code>, and login with the default user and password: <code class="highlighter-rouge">admin</code> and <code class="highlighter-rouge">geoserver</code>.</p>

<p>If you want to try out GeoServer with data on your machine, you can just mount your data volume to the Docker container and point GeoServer to it in the admin panel. For instance, I mount <code class="highlighter-rouge">/home/data/sampledata</code> to <code class="highlighter-rouge">$GEOSERVER_HOME/data_dir/sampledata</code> with <a href="https://docs.docker.com/compose/">Docker Compose</a>.</p>

<p>There. Now play around with GeoServer. I expect a cheque for 5% of what you would have spent on ArcGIS Server.</p>

<h3 id="update">Update</h3>

<p>Docker hygeine is important, although I’m still figuring it out. I’ve made the image use Debian Wheezy as a lightweight alternative to the Ubuntu 15.04 image I had before. It was also broken because I hadn’t added the command to install <code class="highlighter-rouge">wget</code>, among a litany of other problems. It usually pays to test things, sorry if you tried it out earlier!</p>



<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'nearimprov';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

 <!--
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'nearimprov';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

-->

    </article>
    <span class="print-footer">GeoServer Quickstart with Docker - November 1, 2015 - Richard Law</span>
    <footer>
  <hr class="slender">
  <ul class="footer-links">
    
      <li>
        <a href="//www.twitter.com/alphabeta_soup"><span class="icon-twitter"></span></a>
      </li>
    
      <li>
        <a href="//plus.google.com/+RichardLawNZ"><span class="icon-googleplus"></span></a>
      </li>
    
      <li>
        <a href="//github.com/alpha-beta-soup"><span class="icon-github"></span></a>
      </li>
    
      <li>
        <a href="/blog/feed.xml"><span class="icon-feed"></span></a>
      </li>
    
      <li>
        <a href="mailto:richard.m.law@gmail.com"><span class="icon-mail"></span></a>
      </li>
    
  </ul>
<div class="credits">
<!-- <span>&copy; 2018 &nbsp;&nbsp;RICHARD LAW</span></br> <br> -->
<span>This site is created with the <a href="//github.com/clayh53/tufte-jekyll">Tufte theme </a> for <a href="//jekyllrb.com">Jekyll</a>.</span>
</div>
</footer>

  </body>
</html>
