{"data":{"site":{"siteMetadata":{"title":"Spatial Paralysis","author":"Richard Law"}},"markdownRemark":{"id":"b76b9d58-464b-5a50-9ee2-78903deea8b1","excerpt":"\n I’ve been exploring  GeoServer  recently, while also doing the same with  Docker . I figured I’d share a simple Dockerfile I wrote for…","html":"<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/edaf107dfc6483b5ae78f05951e6d84b/9e4f4/docker.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 33.964646464646464%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABXUlEQVQoz2NgAAK19HJGBiSgUjcNzJdoXsToam7CYOEXxmjhG8Jg4QPEQNoSghktgXwQtvAJBmMw0ItKgRumV9plo1M/LYOBTGAJMxTsyvKuRRrt8/+rVE247KIhJaE2ZUePeNcalwh2Bg6gC22BLhMHuoob6CIuIK0OxGpAAziBruYFsnmAmB1sUCYDA4dCzYxpUtP3/lfq3/BDZcKG/4p9G2/Jdq09qpLblGTj7hMANGw6EKcAcREQxwAN8QMaPBloSJalb3AVkA4Bepkb7jqphgVVThsu/Jdaeek/w5zT/7m6Nj2RTShXBcmZ+4d7A10CNCDYE6gxGIg9gNgeaHA8kE4A4iAglgN7GRiucENXb1gfZD1lfSNz8fQkWzNzXpi4nYsHC4gGGsAE0wTEbPBw8w1mhIRfCEQgVUWIgeH/f4wAFqiZzxSmLcsANQyqOQQRAUCDYTELEwcZCgCFJHBJZd+uAgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"docker\"\n        title=\"\"\n        src=\"/static/edaf107dfc6483b5ae78f05951e6d84b/b6638/docker.png\"\n        srcset=\"/static/edaf107dfc6483b5ae78f05951e6d84b/60f18/docker.png 148w,\n/static/edaf107dfc6483b5ae78f05951e6d84b/9d7cc/docker.png 295w,\n/static/edaf107dfc6483b5ae78f05951e6d84b/b6638/docker.png 590w,\n/static/edaf107dfc6483b5ae78f05951e6d84b/9e4f4/docker.png 792w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4aae888342fa2e77cac9083d1c893946/839ff/geoserver.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 500px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 23.599999999999998%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAA9ElEQVQY02NI3nc8KfPYjd+r79xOYwCC////M4DBhONMDNjAxOMMeMG0y5v/u+698X/3s6v/H769ngwSY5l8IoJh0gkPIBYEYjGgIWJAWgVIJwNpcSCWBGJphknHFYCYFciWgIgfl2coOjLzf+epxd97buz7n3D00mOmiSdsgBIFjJNOWAMNWAhkTwYq7gfiVCC7Gkh3A/FMIG4F4lIg7gXi1VC6jUF/7ar/3ju3/c8/vel/0K6DuQzu59iZJh8vZph4Ig+Ii4CKkoAYRNsCLcgF0sVAnANkmwNpLag80LIT2WA+Q++NXNnF2z/IL92Rz0AFAAAdrIUy3ZCuUgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"geoserver\"\n        title=\"\"\n        src=\"/static/4aae888342fa2e77cac9083d1c893946/839ff/geoserver.png\"\n        srcset=\"/static/4aae888342fa2e77cac9083d1c893946/1e2e6/geoserver.png 148w,\n/static/4aae888342fa2e77cac9083d1c893946/10493/geoserver.png 295w,\n/static/4aae888342fa2e77cac9083d1c893946/839ff/geoserver.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>I’ve been exploring <a href=\"geoserver.org/\">GeoServer</a> recently, while also doing the same with <a href=\"https://www.docker.com/\">Docker</a>. I figured I’d share a simple Dockerfile I wrote for getting started with GeoServer (Master) and some extensions, using Docker. I was pleasntly surprised how easy this is to do, after reading a few horrow stories online about getting off the ground with GeoServer. Obviously there’s a lot of additional configuration required before deploying GeoServer, but Docker does at least make it very easy to try something out by ensuring your on the same page as somebody else.</p>\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token comment\"># Dockerfile</span>\n<span class=\"token keyword\">FROM</span> debian<span class=\"token punctuation\">:</span>wheezy\n\n<span class=\"token comment\"># Update the sources list</span>\n<span class=\"token keyword\">RUN</span> apt<span class=\"token punctuation\">-</span>get update\n<span class=\"token keyword\">RUN</span> apt<span class=\"token punctuation\">-</span>get upgrade <span class=\"token punctuation\">-</span>y\n\n<span class=\"token comment\"># Install basic applications</span>\n<span class=\"token keyword\">RUN</span> apt<span class=\"token punctuation\">-</span>get install <span class=\"token punctuation\">-</span>y build<span class=\"token punctuation\">-</span>essential wget unzip\n\n<span class=\"token comment\"># Get the JRE/JDK installation</span>\n<span class=\"token keyword\">RUN</span> apt<span class=\"token punctuation\">-</span>get install <span class=\"token punctuation\">-</span>y default<span class=\"token punctuation\">-</span>jre default<span class=\"token punctuation\">-</span>jdk\n<span class=\"token keyword\">RUN</span> apt<span class=\"token punctuation\">-</span>get install <span class=\"token punctuation\">-</span>y openjdk<span class=\"token punctuation\">-</span>7<span class=\"token punctuation\">-</span>jre openjdk<span class=\"token punctuation\">-</span>7<span class=\"token punctuation\">-</span>jdk\n<span class=\"token keyword\">ENV</span> JAVA_HOME=/usr/lib/jvm/java<span class=\"token punctuation\">-</span>1.7.0<span class=\"token punctuation\">-</span>openjdk<span class=\"token punctuation\">-</span>amd64\n\n<span class=\"token comment\"># Get GeoServer</span>\n<span class=\"token keyword\">ENV</span> GEOSERVER_HOME=/usr/share/geoserver/\n<span class=\"token keyword\">RUN</span> mkdir $GEOSERVER_HOME\n<span class=\"token keyword\">RUN</span> wget http<span class=\"token punctuation\">:</span>//ares.boundlessgeo.com/geoserver/master/geoserver<span class=\"token punctuation\">-</span>master<span class=\"token punctuation\">-</span>latest<span class=\"token punctuation\">-</span>bin.zip\n<span class=\"token keyword\">RUN</span> cp geoserver<span class=\"token punctuation\">-</span>master<span class=\"token punctuation\">-</span>latest<span class=\"token punctuation\">-</span>bin.zip $GEOSERVER_HOME\n<span class=\"token keyword\">RUN</span> unzip $GEOSERVER_HOME/geoserver<span class=\"token punctuation\">-</span>master<span class=\"token punctuation\">-</span>latest<span class=\"token punctuation\">-</span>bin.zip <span class=\"token punctuation\">-</span>d $GEOSERVER_HOME\n<span class=\"token keyword\">RUN</span> rm $GEOSERVER_HOME/geoserver<span class=\"token punctuation\">-</span>master<span class=\"token punctuation\">-</span>latest<span class=\"token punctuation\">-</span>bin.zip\n<span class=\"token keyword\">ENV</span> GEOSERVER_VER=2.9\n\n<span class=\"token comment\"># A plugin</span>\n<span class=\"token keyword\">ENV</span> A_PLUGIN=geoserver<span class=\"token punctuation\">-</span>$GEOSERVER_VER<span class=\"token punctuation\">-</span>SNAPSHOT<span class=\"token punctuation\">-</span>netcdf<span class=\"token punctuation\">-</span>plugin\n<span class=\"token keyword\">RUN</span> wget http<span class=\"token punctuation\">:</span>//ares.boundlessgeo.com/geoserver/master/ext<span class=\"token punctuation\">-</span>latest/$A_PLUGIN.zip\n<span class=\"token keyword\">RUN</span> cp $A_PLUGIN.zip $GEOSERVER_HOME\n<span class=\"token keyword\">RUN</span> ls $GEOSERVER_HOME\n<span class=\"token keyword\">RUN</span> ls $GEOSERVER_HOME/geoserver<span class=\"token punctuation\">-</span>$GEOSERVER_VER<span class=\"token punctuation\">-</span>SNAPSHOT/\n<span class=\"token keyword\">RUN</span> unzip $GEOSERVER_HOME/$A_PLUGIN.zip \\\n<span class=\"token punctuation\">-</span>d $GEOSERVER_HOME/geoserver<span class=\"token punctuation\">-</span>$GEOSERVER_VER<span class=\"token punctuation\">-</span>SNAPSHOT/webapps/geoserver/WEB<span class=\"token punctuation\">-</span>INF/lib/\n<span class=\"token keyword\">RUN</span> rm $GEOSERVER_HOME/$A_PLUGIN.zip\n\n<span class=\"token keyword\">ENV</span> GEOSERVER_HOME=$GEOSERVER_HOME/geoserver<span class=\"token punctuation\">-</span>$GEOSERVER_VER<span class=\"token punctuation\">-</span>SNAPSHOT/\n<span class=\"token keyword\">WORKDIR</span> $GEOSERVER_HOME/bin</code></pre></div>\n<p>Then to build and run the Docker container:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker build -t user/geoserver-master:test <span class=\"token keyword\">.</span>\ndocker run -it --net<span class=\"token operator\">=</span><span class=\"token string\">\"host\"</span> user/geoserver-master:test\n./startup.sh</code></pre></div>\n<p>Now you have GeoServer running, so head to <code class=\"language-text\">localhost:8080/geoserver</code>, and login with the default user and password: <code class=\"language-text\">admin</code> and <code class=\"language-text\">geoserver</code>.</p>\n<p>If you want to try out GeoServer with data on your machine, you can just mount your data volume to the Docker container and point GeoServer to it in the admin panel. For instance, I mount <code class=\"language-text\">/home/data/sampledata</code> to <code class=\"language-text\">$GEOSERVER_HOME/data_dir/sampledata</code> with <a href=\"https://docs.docker.com/compose/\">Docker Compose</a>.</p>\n<p>There. Now play around with GeoServer. I expect a cheque for 5% of what you would have spent on ArcGIS Server.</p>\n<h3>Update</h3>\n<p>Docker hygiene is important, although I’m still figuring it out. I’ve made the image use Debian Wheezy as a lightweight alternative to the Ubuntu 15.04 image I had before. It was also broken because I hadn’t added the command to install <code class=\"language-text\">wget</code>, among a litany of other problems. It usually pays to test things, sorry if you tried it out earlier!</p>","frontmatter":{"title":"GeoServer Quickstart with Docker","date":"09:06 PM, Sunday November 01, 2015","updated":"06:48 PM, Sunday November 08, 2015","path":"/blog/geoserver-docker-quickstart"},"fields":{"slug":"/geoserver-docker/"}}},"pageContext":{"slug":"/geoserver-docker/","previous":{"fields":{"slug":"/spatial-is-not-that-special/"},"frontmatter":{"title":"Spatial isn't that special","updated":null,"date":"2015-11-01T17:00:00.000Z","path":"/blog/spatial-not-special","tags":["GIS","opinion"]}},"next":{"fields":{"slug":"/nzsea/"},"frontmatter":{"title":"New Zealand Spatial Excellence Awards","updated":null,"date":"2015-11-19T02:00:00.000Z","path":null,"tags":["GIS","opinion"]}}}}